# echarts4r

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  warning = FALSE,
  collapse = TRUE,
  comment = "#>"
)

library(echarts4r)
```

[![Travis-CI Build Status](https://travis-ci.org/JohnCoene/echarts4r.svg?branch=master)](https://travis-ci.org/JohnCoene/echarts4r) [![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/JohnCoene/echarts4r?branch=master&svg=true)](https://ci.appveyor.com/project/JohnCoene/echarts4r) [![Bitbucket Build Status](https://img.shields.io/bitbucket/pipelines/JohnCoene/echarts4r.svg)](https://bitbucket.org/JohnCoene/echarts4r) [![lifecycle](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing) [![Binder](http://mybinder.org/badge.svg)](https://mybinder.org/v2/gh/JohnCoene/echarts4r/master) [![version](https://img.shields.io/github/tag/JohnCoene/echarts4r.svg)](https://github.com/JohnCoene/echarts4r/releases) [![GitHub closed issues](https://img.shields.io/github/issues-closed/JohnCoene/echarts4r.svg)](https://github.com/JohnCoene/echarts4r/issues)


<img src="reference/figures/logo.png" align="left" style="max-height:300px;margin-right:5%;"/>

[ECharts](http://echarts.baidu.com/) 4: powerful interactive visualisations in R.

<a class="btn btn-success" href="articles/get_started.html">
  <i class="fa fa-rocket" aria-hidden="true"></i>
  Get Started
</a>
<a class="btn btn-primary" href="articles/gallery.html">
  <i class="fa fa-paint-brush" aria-hidden="true"></i>
  Gallery
</a>
<a class="btn btn-info" href="news/index.html">
  <i class="fa fa-newspaper-o" aria-hidden="true"></i>
  Changelog
</a>
<a class="btn btn-default" href="http://shiny.john-coene.com/echarts4rShiny" target="_blank">
  <i class="fa fa-desktop" aria-hidden="true"></i>
  Shiny demo
</a>

## Installation

You can install echarts4r from any of the repositories below.

```{r, eval=FALSE}
# install.packages("devtools")
devtools::install_github("JohnCoene/echarts4r") # github
devtools::install_bitbucket("JohnCoene/echarts4r") # bitbucket
devtools::install_git("https://git.coding.net/JohnCoene/echarts4r.git") # coding.net
```

## Features

* 33 chart types
* Animations
* Brush & sliders
* WebGL support
* Plugins included
* Shiny proxies
* themes
* and more...

## Examples

Some of what you can do with `echarts4r`, see the guide for more.

```{r, echo = FALSE}
structure(list(params = structure(list(metrics = c("loss", "acc",
"val_loss", "val_acc"), epochs = 50L, steps = NULL, do_validation = TRUE,
    samples = 68L, batch_size = 25L, verbose = 1L, validation_samples = 7L), .Names = c("metrics",
"epochs", "steps", "do_validation", "samples", "batch_size",
"verbose", "validation_samples")), metrics = structure(list(acc = c(0.0735294101211955,
0.132352938656421, 0.220588230801856, 0.161764707306729, 0.294117646182285,
0.35294118304463, 0.36764705838526, 0.485294109758209, 0.544117631281123,
0.588235296747264, 0.661764691857731, 0.632352932411082, 0.588235296747264,
0.499999995617306, 0.54411764223786, 0.705882361706565, 0.617647055317374,
0.632352955201093, 0.661764691857731, 0.661764704129275, 0.749999989481533,
0.720588247565662, 0.691176467958619, 0.691176467958619, 0.749999985098839,
0.720588247565662, 0.705882361706565, 0.735294137807453, 0.735294103622437,
0.647058836677495, 0.764705878846786, 0.705882362583104, 0.720588252824895,
0.617647060576607, 0.735294133424759, 0.705882357323871, 0.676470582099522,
0.720588230911423, 0.705882345052326, 0.676470604012994, 0.6764705996303,
0.705882353817715, 0.705882379237343, 0.661764726042747, 0.749999988604994,
0.705882362583104, 0.808823527658687, 0.823529417900478, 0.764705879723324,
0.720588230911423), loss = c(2.0660576469758, 1.99683945319232,
1.95483203670558, 1.9064447581768, 1.8034468608744, 1.86623795768794,
1.77855998978895, 1.71669004068655, 1.66122734721969, 1.61088024518069,
1.59075920722064, 1.57837966259788, 1.55926010187934, 1.55458232059198,
1.5626626049771, 1.44145392319735, 1.46900314969175, 1.40251419123481,
1.36689052511664, 1.35799269115224, 1.26676543670542, 1.26180054159725,
1.20250909118091, 1.25656307620161, 1.1863548422561, 1.19643362830667,
1.17428969810991, 1.12035475758945, 1.08536758668282, 1.18256520523744,
1.08798174998339, 0.999415913925451, 1.03854234428967, 1.06687709163217,
0.992210958810414, 1.03758100113448, 0.994289664661183, 1.01384373272167,
0.909824874471216, 0.915756819002769, 0.928737302036846, 0.954933696809937,
0.908137674717342, 0.900008127969854, 0.791025588617605, 0.853402955567136,
0.782849899986211, 0.797247392289779, 0.725946132751072, 0.813696103060947
), val_acc = c(0.142857149243355, 0.142857149243355, 0.428571432828903,
0.428571432828903, 0.571428596973419, 0.571428596973419, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.714285731315613, 0.714285731315613,
0.714285731315613, 0.714285731315613, 0.857142865657806), val_loss = c(2.031325340271,
1.97427487373352, 1.92726135253906, 1.88843464851379, 1.84600067138672,
1.80778419971466, 1.76669657230377, 1.72621142864227, 1.68108594417572,
1.63897025585175, 1.59370386600494, 1.55243480205536, 1.51551449298859,
1.47852385044098, 1.44275331497192, 1.40237522125244, 1.36710214614868,
1.32993257045746, 1.29077565670013, 1.25797390937805, 1.21847546100616,
1.18844985961914, 1.1557811498642, 1.12718331813812, 1.10071218013763,
1.07737362384796, 1.05112981796265, 1.02113938331604, 0.996909558773041,
0.971255481243134, 0.949121475219727, 0.925548076629639, 0.906897366046906,
0.884130835533142, 0.864132642745972, 0.846682965755463, 0.834402322769165,
0.817978262901306, 0.802524149417877, 0.783162832260132, 0.767569601535797,
0.755335986614227, 0.738209784030914, 0.727094709873199, 0.711536407470703,
0.696642816066742, 0.677618682384491, 0.6611607670784, 0.646168172359467,
0.637812376022339)), .Names = c("acc", "loss", "val_acc", "val_loss"
))), .Names = c("params", "metrics"), class = "keras_training_history") -> history
```


```{r}
library(echarts4r)

# with negative
USArrests %>% 
  dplyr::mutate(
    State = row.names(.),
    Rape = -Rape
  ) %>% 
  e_charts(State) %>% 
  e_area(Murder) %>%
  e_bar(Rape, name = "Sick basterd", x.index = 1) %>% # second y axis 
  e_mark_line("Sick basterd", data = list(type = "average")) %>% 
  e_mark_point("Murder", data = list(type = "max")) %>% 
  e_tooltip(trigger = "axis")

# keras hsitory
history %>% 
  e_charts() %>% 
  e_keras_history()
  
# 3D bars
url <- paste0("https://ecomfe.github.io/echarts-examples/",
              "public/data-gl/asset/data/population.json")
data <- jsonlite::fromJSON(url)
data <- as.data.frame(data)
names(data) <- c("lon", "lat", "value")

data %>% 
  e_charts(lon) %>% 
  e_geo_3d() %>% 
  e_bar_3d(lat, value, coord.system = "geo3D") %>% 
  e_visual_map()
```
